import os
import matplotlib

matplotlib.use('Agg')
import matplotlib.pyplot as plt
import array
from PIL import Image, ImageChops, ImageFilter

texture = [9.962654113769531 for i in range(255)]

trans_4_firefox =  [6.102943420410156, 1.7255783081054688, 4.796600341796875, 3.0786514282226562, 3.874969482421875, 4.560279846191406, 2.9211044311523438, 5.743980407714844, 1.8596649169921875, 6.618309020996094, 2.242279052734375, 5.907630920410156, 3.5291671752929688, 5.142974853515625, 4.7641754150390625, 4.239845275878906, 6.006622314453125, 3.5566329956054688, 7.046318054199219, 2.458953857421875, 6.98089599609375, 4.097747802734375, 6.334495544433594, 5.1372528076171875, 5.4424285888671875, 6.276130676269531, 4.924774169921875, 7.284736633300781, 4.731178283691406, 8.024406433105469, 5.0567626953125, 7.3467254638671875, 5.761528015136719, 6.664085388183594, 6.6364288330078125, 6.169319152832031, 7.5374603271484375, 5.8837890625, 8.366203308105469, 5.925559997558594, 8.184623718261719, 6.5082550048828125, 7.806587219238281, 7.1502685546875, 7.318305969238281, 7.938194274902344, 7.0194244384765625, 8.648109436035156, 6.986236572265625, 9.1217041015625, 7.337760925292969, 8.676719665527344, 7.705116271972656, 8.269691467285156, 8.327674865722656, 7.944297790527344, 9.036827087402344, 7.929039001464844, 9.600830078125, 7.801055908203125, 9.482955932617188, 8.40911865234375, 9.093666076660156, 8.778762817382812, 8.809852600097656, 9.267807006835938, 8.715629577636719, 9.830284118652344, 8.734321594238281, 10.346603393554688, 8.881950378417969, 9.682273864746094, 9.181976318359375, 9.375572204589844, 9.366416931152344, 9.228324890136719, 9.894943237304688, 9.209823608398438, 10.355567932128906, 9.233474731445312, 10.138511657714844, 9.40399169921875, 9.819793701171875, 9.748458862304688, 9.659004211425781, 9.977340698242188, 9.584236145019531, 10.347175598144531, 9.538841247558594, 10.693359375, 9.695243835449219, 10.190773010253906, 9.833717346191406, 9.986114501953125, 10.077476501464844, 9.785270690917969, 10.385704040527344, 9.865760803222656, 10.672569274902344, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875, 6.938934326171875]
trans_chrome = [0.1505533903837204, 0.3038194477558136, 0.4292806088924408, 0.5622016191482544, 0.7073296308517456, 0.8633083701133728, 1.03759765625, 1.1433919668197632, 1.2444390058517456, 1.3753255605697632, 1.4533149003982544, 1.6452364921569824, 1.7923990488052368, 1.8771700859069824, 2.013482093811035, 2.159288167953491, 2.287461996078491, 2.392578125, 2.5105793476104736, 2.570258140563965, 2.726915121078491, 2.812364339828491, 2.9025607109069824, 3.009711265563965, 3.125, 3.1887478828430176, 3.2735188007354736, 3.3969454765319824, 3.533935546875, 3.5542805194854736, 3.6960177421569824, 3.7984211444854736, 3.8492839336395264, 3.986952066421509, 4.088677406311035, 4.213460445404053, 4.241265296936035, 4.336208820343018, 4.413519859313965, 4.469808101654053, 4.5654296875, 4.656304359436035, 4.73768424987793, 4.888237953186035, 4.916042804718018, 5.03675651550293, 5.07337760925293, 5.157470703125, 5.147976398468018, 5.245632648468018, 5.339898109436035, 5.431450843811035, 5.409749507904053, 5.537923336029053, 5.572509765625, 5.61387825012207, 5.733235836029053, 5.796305179595947, 5.88243293762207, 5.85801887512207, 6.005181312561035, 6.057400226593018, 5.99839973449707, 6.104193687438965, 6.157769203186035, 6.179470539093018, 6.235758304595947, 6.29136848449707, 6.300862789154053, 6.40123176574707, 6.37071418762207, 6.380886554718018, 6.47718620300293, 6.510416507720947, 6.503634929656982, 6.561279296875, 6.533474445343018, 6.597222328186035, 6.640625, 6.634521484375, 6.698947429656982, 6.673177242279053, 6.708441734313965, 6.789822101593018, 6.78846549987793, 6.7626953125, 6.746419429779053, 6.78575325012207, 6.787787437438965, 6.852213382720947, 6.868489742279053, 6.847466468811035, 6.8603515625, 6.869167804718018, 6.917995929718018, 6.89222526550293, 6.949191570281982, 6.940375328063965, 6.900363445281982, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875, 6.982421875]

point_no_am = [0.5908966064453125, 0.8367538452148438, 1.2102127075195312, 1.4507293701171875, 1.6393661499023438, 2.04010009765625, 2.2119522094726562, 2.3973464965820312, 2.5667190551757812, 2.7154922485351562, 2.9256820678710938, 3.0750274658203125, 3.0792236328125, 3.16925048828125, 3.1219482421875, 3.25164794921875, 3.2718658447265625, 3.2453536987304688, 3.29742431640625, 3.2459259033203125, 3.2476425170898438, 3.2388687133789062, 3.2444000244140625, 3.2262802124023438, 3.115081787109375, 3.1332015991210938, 3.08074951171875, 3.081512451171875, 3.0546188354492188, 2.9649734497070312, 2.8959274291992188, 2.8850555419921875, 2.8612136840820312, 2.8308868408203125, 2.7406692504882812, 2.7353286743164062, 2.7063369750976562, 2.6620864868164062, 2.6454925537109375, 2.5934219360351562, 2.6264190673828125, 2.55126953125, 2.5636672973632812, 2.48565673828125, 2.4648666381835938, 2.4332046508789062, 2.3769378662109375, 2.388763427734375, 2.3342132568359375, 2.3012161254882812, 2.30255126953125, 2.2235870361328125, 2.24456787109375, 2.204132080078125, 2.1825790405273438, 2.1604537963867188, 2.1261215209960938, 2.11639404296875, 2.0816802978515625, 2.0488739013671875, 2.0414352416992188, 2.0235061645507812, 2.0120620727539062, 1.9744873046875, 1.9458770751953125, 1.9372940063476562, 1.9132614135742188, 1.9195556640625, 1.874542236328125, 1.8461227416992188, 1.8522262573242188, 1.83258056640625, 1.8312454223632812, 1.8075942993164062, 1.7749786376953125, 1.7719268798828125, 1.7267227172851562, 1.7461776733398438, 1.6881942749023438, 1.68304443359375, 1.6956329345703125, 1.6672134399414062, 1.64794921875, 1.6160964965820312, 1.605224609375, 1.6004562377929688, 1.5886306762695312, 1.56707763671875, 1.5634536743164062, 1.5468597412109375, 1.5506744384765625, 1.5272140502929688, 1.5117645263671875, 1.5293121337890625, 1.494598388671875, 1.49078369140625, 1.4926910400390625, 1.4614105224609375, 1.462554931640625, 1.4314651489257812, 1.4513015747070312, 1.428985595703125, 1.403045654296875, 1.3736724853515625, 1.3568878173828125, 1.3727188110351562, 1.3500213623046875, 1.3387680053710938, 1.3347625732421875, 1.3216018676757812, 1.3347625732421875, 1.3240814208984375, 1.3195037841796875, 1.291656494140625, 1.2819290161132812, 1.2844085693359375, 1.2544631958007812, 1.2639999389648438, 1.2424468994140625, 1.2111663818359375, 1.2311935424804688, 1.2228012084960938, 1.2208938598632812, 1.1926651000976562, 1.1816024780273438, 1.1854171752929688, 1.1804580688476562, 1.1610031127929688, 1.1516571044921875, 1.1508941650390625, 1.1577606201171875, 1.1419296264648438, 1.1281967163085938, 1.1211395263671875, 1.1180877685546875, 1.1114120483398438, 1.1016845703125, 1.1020660400390625, 1.092529296875, 1.0747909545898438, 1.0908126831054688, 1.0763168334960938, 1.0610580444335938, 1.0707855224609375, 1.0585784912109375, 1.0608673095703125, 1.0457992553710938, 1.0517120361328125, 1.0293960571289062, 1.0282516479492188, 1.0417938232421875, 1.0204315185546875, 1.0194778442382812, 1.0107040405273438, 1.001739501953125, 1.0038375854492188, 0.9998321533203125, 0.9870529174804688, 0.983428955078125, 0.9830474853515625, 0.9672164916992188, 0.9916305541992188, 0.9702682495117188, 0.9744644165039062, 0.960540771484375, 0.960540771484375, 0.96435546875, 0.9426116943359375, 0.9429931640625, 0.9344100952148438, 0.9389877319335938, 0.9477615356445312, 0.922393798828125, 0.9080886840820312, 0.9115219116210938, 0.9124755859375, 0.9080886840820312, 0.8924484252929688, 0.8829116821289062, 0.872039794921875, 0.8831024169921875, 0.8726119995117188, 0.860595703125, 0.8665084838867188, 0.847625732421875, 0.855255126953125, 0.8615493774414062, 0.8327484130859375, 0.8453369140625, 0.8472442626953125, 0.8329391479492188, 0.8457183837890625, 0.81787109375, 0.8230209350585938, 0.8167266845703125, 0.8131027221679688, 0.8060455322265625, 0.8100509643554688, 0.8100509643554688, 0.7999420166015625, 0.791168212890625, 0.80108642578125, 0.7984161376953125, 0.7928848266601562, 0.7783889770507812, 0.7844924926757812, 0.77972412109375, 0.7703781127929688, 0.7781982421875, 0.7600784301757812, 0.7520675659179688, 0.7688522338867188, 0.7631301879882812, 0.772857666015625, 0.7593154907226562, 0.7570266723632812, 0.753021240234375, 0.7413864135742188, 0.7406234741210938, 0.7356643676757812, 0.740814208984375, 0.7516860961914062, 0.74310302734375, 0.7463455200195312, 0.7242202758789062, 0.7219314575195312, 0.7328033447265625, 0.7198333740234375, 0.7232666015625, 0.7091522216796875, 0.7144927978515625, 0.7198333740234375, 0.7261276245117188, 0.7251739501953125, 0.7167816162109375, 0.7055282592773438, 0.71868896484375, 0.7062911987304688, 0.7076263427734375, 0.70037841796875, 0.6908416748046875, 0.705718994140625, 0.6952285766601562, 0.6978988647460938, 0.67901611328125, 0.6866455078125, 0.6902694702148438, 0.6769180297851562, 0.68817138671875, 0.6807327270507812, 0.6799697875976562, 0.6830215454101562, 0.6700515747070312, 0.6755828857421875, 0.6647109985351562]
light_no_am = [1.3299942016601562, 2.1608352661132812, 3.0452728271484375, 3.7454605102539062, 4.429817199707031, 5.1483154296875, 5.624961853027344, 6.012535095214844, 6.340980529785156, 6.534004211425781, 6.88018798828125, 7.1475982666015625, 6.927490234375, 7.0438385009765625, 6.829833984375, 6.749534606933594, 6.757926940917969, 6.444549560546875, 6.353187561035156, 6.05316162109375, 5.931663513183594, 5.7506561279296875, 5.651664733886719, 5.492401123046875, 5.1761627197265625, 5.051612854003906, 4.848480224609375, 4.7718048095703125, 4.650688171386719, 4.314994812011719, 4.218864440917969, 4.1259765625, 3.9945602416992188, 3.8995742797851562, 3.7109375, 3.6218643188476562, 3.5205841064453125, 3.4856796264648438, 3.3670425415039062, 3.2506942749023438, 3.217315673828125, 3.0805587768554688, 3.0981063842773438, 2.9714584350585938, 2.8413772583007812, 2.8219223022460938, 2.7257919311523438, 2.7330398559570312, 2.6468276977539062, 2.5213241577148438, 2.519989013671875, 2.4190902709960938, 2.4028778076171875, 2.3548126220703125, 2.2424697875976562, 2.240753173828125, 2.1810531616210938, 2.1890640258789062, 2.1373748779296875, 2.06756591796875, 2.0542144775390625, 2.0059585571289062, 1.9643783569335938, 1.9428253173828125, 1.8705368041992188, 1.8665313720703125, 1.83868408203125, 1.8590927124023438, 1.78985595703125, 1.7719268798828125, 1.7444610595703125, 1.7091751098632812, 1.708221435546875, 1.6727447509765625, 1.6374588012695312, 1.6355514526367188, 1.5958786010742188, 1.5756607055664062, 1.5544891357421875, 1.5283584594726562, 1.5386581420898438, 1.5268325805664062, 1.4759063720703125, 1.4329910278320312, 1.4108657836914062, 1.45111083984375, 1.4102935791015625, 1.4028549194335938, 1.3940811157226562, 1.3538360595703125, 1.3837814331054688, 1.3746261596679688, 1.3158798217773438, 1.3202667236328125, 1.28326416015625, 1.290130615234375, 1.28631591796875, 1.2651443481445312, 1.2516021728515625, 1.2353897094726562, 1.2378692626953125, 1.2271881103515625, 1.197052001953125, 1.1762619018554688, 1.1598587036132812, 1.1640548706054688, 1.1526107788085938, 1.1487960815429688, 1.1312484741210938, 1.1125564575195312, 1.1173248291015625, 1.1152267456054688, 1.094818115234375, 1.0644912719726562, 1.0639190673828125, 1.0715484619140625, 1.0446548461914062, 1.056671142578125, 1.0301589965820312, 1.0259628295898438, 1.0183334350585938, 1.0099411010742188, 1.0019302368164062, 0.9805679321289062, 0.9881973266601562, 0.9866714477539062, 0.9746551513671875, 0.9761810302734375, 0.933837890625, 0.9428024291992188, 0.9593963623046875, 0.9456634521484375, 0.9197235107421875, 0.9225845336914062, 0.8977890014648438, 0.9107589721679688, 0.9130477905273438, 0.8899688720703125, 0.8871078491210938, 0.8792877197265625, 0.8739471435546875, 0.8880615234375, 0.8548736572265625, 0.85296630859375, 0.8584976196289062, 0.8504867553710938, 0.8373260498046875, 0.8363723754882812, 0.8235931396484375, 0.8148193359375, 0.8268356323242188, 0.821685791015625, 0.8028030395507812, 0.8012771606445312, 0.7982254028320312, 0.8075714111328125, 0.811004638671875, 0.7892608642578125, 0.7761001586914062, 0.7762908935546875, 0.7776260375976562, 0.775909423828125, 0.7658004760742188, 0.7762908935546875, 0.75836181640625, 0.7703781127929688, 0.7465362548828125, 0.7532119750976562, 0.7448196411132812, 0.7333755493164062, 0.7371902465820312, 0.7463455200195312, 0.7154464721679688, 0.7221221923828125, 0.7116317749023438, 0.7171630859375, 0.7167816162109375, 0.701904296875, 0.7099151611328125, 0.6990432739257812, 0.69580078125, 0.7028579711914062, 0.6755828857421875, 0.6900787353515625, 0.6734848022460938, 0.679779052734375, 0.6717681884765625, 0.6689071655273438, 0.6641387939453125, 0.6595611572265625, 0.6662368774414062, 0.6593704223632812, 0.6589889526367188, 0.655364990234375, 0.6471633911132812, 0.64849853515625, 0.6502151489257812, 0.6353378295898438, 0.6391525268554688, 0.6345748901367188, 0.6404876708984375, 0.6334304809570312, 0.6330490112304688, 0.632476806640625, 0.6288528442382812, 0.6177902221679688, 0.6212234497070312, 0.6181716918945312, 0.615692138671875, 0.6072998046875, 0.6036758422851562, 0.6103515625, 0.5947113037109375, 0.60272216796875, 0.6097793579101562, 0.5970001220703125, 0.5939483642578125, 0.5916595458984375, 0.58441162109375, 0.5823135375976562, 0.5872726440429688, 0.5987167358398438, 0.5710601806640625, 0.5777359008789062, 0.5617141723632812, 0.5718231201171875, 0.5664825439453125, 0.553131103515625, 0.5580902099609375, 0.5474090576171875, 0.5598068237304688, 0.5542755126953125, 0.548553466796875, 0.5529403686523438, 0.5498886108398438, 0.540924072265625, 0.540924072265625, 0.537109375, 0.5418777465820312, 0.5338668823242188, 0.5437850952148438, 0.5300521850585938, 0.5235671997070312, 0.5392074584960938, 0.5304336547851562, 0.5353927612304688, 0.5329132080078125, 0.5365371704101562, 0.5191802978515625, 0.5205154418945312, 0.5281448364257812, 0.5218505859375, 0.5247116088867188, 0.518035888671875, 0.51422119140625]
point_light = [4.663276672363281, 4.793548583984375, 4.8496246337890625, 4.894256591796875, 4.959297180175781, 5.010414123535156, 5.062294006347656, 5.074501037597656, 5.0994873046875, 5.123329162597656, 5.153465270996094, 5.157279968261719, 5.16510009765625, 5.18951416015625, 5.176544189453125, 5.1883697509765625, 5.193901062011719, 5.213356018066406, 5.221366882324219, 5.224800109863281, 5.253410339355469, 5.233192443847656, 5.238533020019531, 5.2581787109375, 5.2577972412109375, 5.232429504394531, 5.228424072265625, 5.249786376953125, 5.245208740234375, 5.2402496337890625, 5.2371978759765625, 5.230140686035156, 5.23681640625, 5.227088928222656, 5.2135467529296875, 5.22918701171875, 5.214500427246094, 5.2272796630859375, 5.216407775878906, 5.192375183105469, 5.203819274902344, 5.2059173583984375, 5.192756652832031, 5.1906585693359375, 5.181312561035156, 5.183601379394531, 5.1891326904296875, 5.1727294921875, 5.191612243652344, 5.191612243652344, 5.18035888671875, 5.187416076660156, 5.162620544433594, 5.17730712890625, 5.1544189453125, 5.146217346191406, 5.139923095703125, 5.14984130859375, 5.136871337890625, 5.129241943359375, 5.1395416259765625, 5.140495300292969, 5.1380157470703125, 5.1296234130859375, 5.129051208496094, 5.1197052001953125, 5.115699768066406, 5.110740661621094, 5.1055908203125, 5.103492736816406, 5.101966857910156, 5.078887939453125, 5.0891876220703125, 5.0922393798828125, 5.106353759765625, 5.08575439453125, 5.081748962402344, 5.0785064697265625, 5.090141296386719, 5.0930023193359375, 5.075263977050781, 5.095672607421875, 5.0952911376953125, 5.087471008300781, 5.082130432128906, 5.074310302734375, 5.0624847412109375, 5.051422119140625, 5.050086975097656, 5.05218505859375, 5.064201354980469, 5.056571960449219, 5.069541931152344, 5.054664611816406, 5.047035217285156, 5.050086975097656, 5.049324035644531, 5.0502777099609375, 5.0350189208984375, 5.0262451171875, 5.023956298828125, 5.023765563964844, 5.020332336425781, 5.023765563964844, 5.024147033691406, 5.014228820800781, 5.013465881347656, 5.0258636474609375, 5.033683776855469, 5.0205230712890625, 5.023384094238281, 5.0251007080078125, 5.012321472167969, 5.0273895263671875, 5.016899108886719, 5.0380706787109375, 5.020904541015625, 5.016326904296875, 4.991912841796875, 4.9961090087890625, 4.990959167480469, 5.007171630859375, 5.0006866455078125, 5.005073547363281, 4.9976348876953125, 4.993438720703125, 5.002021789550781, 4.996490478515625, 4.997825622558594, 4.985237121582031, 4.982757568359375, 4.984474182128906, 5.000495910644531, 4.9823760986328125, 4.9747467041015625, 4.96978759765625, 4.965972900390625, 4.966926574707031, 4.9633026123046875, 4.9633026123046875, 4.947853088378906, 4.961585998535156, 4.951286315917969, 4.943084716796875, 4.955863952636719, 4.9468994140625, 4.955482482910156, 4.95758056640625, 4.9610137939453125, 4.967308044433594, 4.9808502197265625, 4.976844787597656, 4.970550537109375, 4.9701690673828125, 4.969024658203125, 4.9640655517578125, 4.959869384765625, 4.947662353515625, 4.949378967285156, 4.95147705078125, 4.973793029785156, 4.969596862792969, 4.9652099609375, 4.9625396728515625, 4.952812194824219, 4.9510955810546875, 4.950714111328125, 4.932403564453125, 4.93621826171875, 4.930686950683594, 4.94232177734375, 4.942131042480469, 4.949951171875, 4.950904846191406, 4.955291748046875, 4.946327209472656, 4.95147705078125, 4.948997497558594, 4.952430725097656, 4.941558837890625, 4.944419860839844, 4.947471618652344, 4.947471618652344, 4.941749572753906, 4.939842224121094, 4.9343109130859375, 4.936408996582031, 4.934120178222656, 4.936027526855469, 4.9259185791015625, 4.915618896484375, 4.9251556396484375, 4.929161071777344, 4.9289703369140625, 4.92706298828125, 4.93316650390625, 4.926490783691406, 4.9259185791015625, 4.932594299316406, 4.920196533203125, 4.923439025878906, 4.9198150634765625, 4.9167633056640625, 4.9152374267578125, 4.905891418457031, 4.91180419921875, 4.9114227294921875, 4.92095947265625, 4.9144744873046875, 4.90875244140625, 4.904747009277344, 4.897880554199219, 4.8885345458984375, 4.9053192138671875, 4.899024963378906, 4.899406433105469, 4.898643493652344, 4.897880554199219, 4.9030303955078125, 4.8923492431640625, 4.898262023925781, 4.895210266113281, 4.897117614746094, 4.9030303955078125, 4.891204833984375, 4.90264892578125, 4.8954010009765625, 4.8801422119140625, 4.877471923828125, 4.892921447753906, 4.876518249511719, 4.8786163330078125, 4.890251159667969, 4.889106750488281, 4.8854827880859375, 4.892158508300781, 4.881095886230469, 4.872894287109375, 4.874992370605469, 4.852485656738281, 4.876518249511719, 4.87213134765625, 4.862213134765625, 4.86297607421875, 4.8675537109375, 4.8614501953125, 4.8675537109375, 4.87213134765625, 4.866790771484375, 4.8648834228515625, 4.858207702636719, 4.8587799072265625, 4.85687255859375, 4.852867126464844, 4.856300354003906]
simple_light = [4.739189147949219, 4.979515075683594, 5.322456359863281, 5.526542663574219, 5.747795104980469, 6.0222625732421875, 6.1580657958984375, 6.323814392089844, 6.469917297363281, 6.591606140136719, 6.836509704589844, 6.9774627685546875, 6.992912292480469, 7.155609130859375, 7.087898254394531, 7.210350036621094, 7.2998046875, 7.248497009277344, 7.3192596435546875, 7.229423522949219, 7.2948455810546875, 7.28912353515625, 7.344818115234375, 7.33184814453125, 7.1685791015625, 7.1319580078125, 7.11212158203125, 7.138252258300781, 7.1414947509765625, 6.975555419921875, 6.949424743652344, 6.9286346435546875, 6.896781921386719, 6.9091796875, 6.7584991455078125, 6.7508697509765625, 6.67572021484375, 6.677436828613281, 6.642723083496094, 6.5227508544921875, 6.6043853759765625, 6.50177001953125, 6.550025939941406, 6.395912170410156, 6.295967102050781, 6.3747406005859375, 6.292724609375, 6.339263916015625, 6.179046630859375, 6.122779846191406, 6.1351776123046875, 6.051445007324219, 6.090354919433594, 5.985069274902344, 5.882835388183594, 5.916404724121094, 5.8376312255859375, 5.8460235595703125, 5.788230895996094, 5.731010437011719, 5.726051330566406, 5.666160583496094, 5.699920654296875, 5.64117431640625, 5.554389953613281, 5.548286437988281, 5.513954162597656, 5.559349060058594, 5.477333068847656, 5.423545837402344, 5.4180145263671875, 5.3905487060546875, 5.359840393066406, 5.337715148925781, 5.310249328613281, 5.275917053222656, 5.243110656738281, 5.251884460449219, 5.200004577636719, 5.1654815673828125, 5.214881896972656, 5.156898498535156, 5.0640106201171875, 5.049324035644531, 5.029487609863281, 5.096435546875, 5.040931701660156, 5.011177062988281, 4.9488067626953125, 4.915046691894531, 4.929161071777344, 4.913902282714844, 4.887962341308594, 4.852485656738281, 4.7962188720703125, 4.8244476318359375, 4.815483093261719, 4.780387878417969, 4.736137390136719, 4.71343994140625, 4.739952087402344, 4.732322692871094, 4.679107666015625, 4.647636413574219, 4.6112060546875, 4.621696472167969, 4.643440246582031, 4.5886993408203125, 4.572486877441406, 4.5360565185546875, 4.553794860839844, 4.5238494873046875, 4.5223236083984375, 4.457283020019531, 4.488945007324219, 4.487037658691406, 4.4124603271484375, 4.4284820556640625, 4.4097900390625, 4.370307922363281, 4.4162750244140625, 4.37774658203125, 4.349708557128906, 4.307365417480469, 4.2999267578125, 4.2911529541015625, 4.2888641357421875, 4.27398681640625, 4.250335693359375, 4.213523864746094, 4.244422912597656, 4.203605651855469, 4.2057037353515625, 4.1717529296875, 4.181861877441406, 4.171943664550781, 4.171180725097656, 4.114532470703125, 4.106903076171875, 4.0996551513671875, 4.128265380859375, 4.099464416503906, 4.078102111816406, 4.073524475097656, 4.0618896484375, 4.084014892578125, 4.065704345703125, 4.0401458740234375, 4.0203094482421875, 4.0157318115234375, 4.013252258300781, 3.9791107177734375, 3.9913177490234375, 3.9621353149414062, 3.9506912231445312, 3.9793014526367188, 3.9842605590820312, 3.9279937744140625, 3.9289474487304688, 3.9043426513671875, 3.9020538330078125, 3.9079666137695312, 3.8724899291992188, 3.8715362548828125, 3.8358688354492188, 3.8524627685546875, 3.858184814453125, 3.8438796997070312, 3.8106918334960938, 3.7843704223632812, 3.780364990234375, 3.7954330444335938, 3.7677764892578125, 3.7698745727539062, 3.7506103515625, 3.7500381469726562, 3.73687744140625, 3.7088394165039062, 3.7092208862304688, 3.7214279174804688, 3.69110107421875, 3.7014007568359375, 3.6815643310546875, 3.6708831787109375, 3.6371231079101562, 3.641510009765625, 3.6806106567382812, 3.6285400390625, 3.6464691162109375, 3.6357879638671875, 3.6291122436523438, 3.6439895629882812, 3.6153793334960938, 3.638458251953125, 3.6085128784179688, 3.5890579223632812, 3.6182403564453125, 3.5861968994140625, 3.5913467407226562, 3.5800933837890625, 3.5749435424804688, 3.5814285278320312, 3.5573959350585938, 3.5406112670898438, 3.52783203125, 3.534698486328125, 3.5516738891601562, 3.5253524780273438, 3.5173416137695312, 3.5182952880859375, 3.4969329833984375, 3.5257339477539062, 3.4830093383789062, 3.4997940063476562, 3.4872055053710938, 3.4572601318359375, 3.4837722778320312, 3.4540176391601562, 3.4612655639648438, 3.4505844116210938, 3.4433364868164062, 3.467559814453125, 3.4259796142578125, 3.4450531005859375, 3.4343719482421875, 3.4391403198242188, 3.4284591674804688, 3.4252166748046875, 3.4204483032226562, 3.3899307250976562, 3.3924102783203125, 3.4008026123046875, 3.4015655517578125, 3.3740997314453125, 3.3700942993164062, 3.3721923828125, 3.3647537231445312, 3.3533096313476562, 3.3639907836914062, 3.3227920532226562, 3.3252716064453125, 3.3306121826171875, 3.3121109008789062, 3.3214569091796875, 3.3109664916992188, 3.2955169677734375, 3.3258438110351562, 3.2972335815429688, 3.3048629760742188, 3.2939910888671875, 3.260040283203125, 3.277587890625, 3.2907485961914062, 3.2684326171875, 3.27262870841796875]
two_light_point = [6.545066833496094, 6.570243835449219, 6.584739685058594, 6.582450866699219, 6.574821472167969, 6.589508056640625, 6.59027099609375, 6.5921783447265625, 6.587028503417969, 6.580924987792969, 6.5654754638671875, 6.572914123535156, 6.576347351074219, 6.571388244628906, 6.5738677978515625, 6.560707092285156, 6.5486907958984375, 6.53076171875, 6.526947021484375, 6.5303802490234375, 6.5242767333984375, 6.513214111328125, 6.518745422363281, 6.5135955810546875, 6.4971923828125, 6.487846374511719, 6.484794616699219, 6.468772888183594, 6.4678192138671875, 6.4502716064453125, 6.444740295410156, 6.4479827880859375, 6.435203552246094, 6.441497802734375, 6.441307067871094, 6.432342529296875, 6.426429748535156, 6.4174652099609375, 6.4098358154296875, 6.410980224609375, 6.412506103515625, 6.4182281494140625, 6.408882141113281, 6.410789489746094, 6.403923034667969, 6.4037322998046875, 6.403541564941406, 6.402587890625, 6.3899993896484375, 6.3785552978515625, 6.376838684082031, 6.3884735107421875, 6.388282775878906, 6.3678741455078125, 6.3610076904296875, 6.38275146484375, 6.3602447509765625, 6.3564300537109375, 6.356620788574219, 6.338691711425781, 6.360626220703125, 6.344795227050781, 6.3358306884765625, 6.333351135253906, 6.317329406738281, 6.321144104003906, 6.313323974609375, 6.325721740722656, 6.331825256347656, 6.3106536865234375, 6.308746337890625, 6.305122375488281, 6.291770935058594, 6.279945373535156, 6.279754638671875, 6.2744140625, 6.2786102294921875, 6.282234191894531, 6.280708312988281, 6.2541961669921875, 6.2633514404296875, 6.277275085449219, 6.2602996826171875, 6.258583068847656, 6.256294250488281, 6.2541961669921875, 6.23779296875, 6.249427795410156, 6.2541961669921875, 6.25762939453125, 6.248664855957031, 6.238746643066406, 6.241035461425781, 6.239509582519531, 6.2313079833984375, 6.241607666015625, 6.243896484375, 6.229591369628906, 6.215476989746094, 6.2183380126953125, 6.231880187988281, 6.2297821044921875, 6.22711181640625, 6.228446960449219, 6.2252044677734375, 6.213951110839844, 6.2183380126953125, 6.221961975097656, 6.203269958496094, 6.205940246582031, 6.200408935546875, 6.2023162841796875, 6.198883056640625, 6.2023162841796875, 6.191444396972656, 6.1946868896484375, 6.19659423828125, 6.1954498291015625, 6.192970275878906, 6.19049072265625, 6.187248229980469, 6.186676025390625, 6.181526184082031, 6.189537048339844, 6.186676025390625, 6.184959411621094, 6.193733215332031, 6.192588806152344, 6.188392639160156, 6.19049072265625, 6.19354248046875, 6.182861328125, 6.180572509765625, 6.182289123535156, 6.181907653808594, 6.1878204345703125, 6.182861328125, 6.180381774902344, 6.184196472167969, 6.18133544921875, 6.1767578125, 6.1824798583984375, 6.189727783203125, 6.176567077636719, 6.174659729003906, 6.173896789550781, 6.170654296875, 6.1656951904296875, 6.15234375, 6.156158447265625, 6.159400939941406, 6.171226501464844, 6.163215637207031, 6.1611175537109375, 6.1542510986328125, 6.1435699462890625, 6.147575378417969, 6.1389923095703125, 6.145477294921875, 6.137275695800781, 6.138038635253906, 6.139945983886719, 6.125640869140625, 6.1389923095703125, 6.138038635253906, 6.136894226074219, 6.1252593994140625, 6.128883361816406, 6.126594543457031, 6.123161315917969, 6.1191558837890625, 6.118583679199219, 6.1191558837890625, 6.114387512207031, 6.113433837890625, 6.110954284667969, 6.110191345214844, 6.110191345214844, 6.109619140625, 6.104469299316406, 6.097412109375, 6.1000823974609375, 6.1031341552734375, 6.1069488525390625, 6.097412109375, 6.0985565185546875, 6.095314025878906, 6.1046600341796875, 6.096458435058594, 6.09283447265625, 6.097221374511719, 6.0924530029296875, 6.093025207519531, 6.08978271484375, 6.090545654296875, 6.0970306396484375, 6.0901641845703125, 6.096458435058594, 6.087684631347656, 6.0817718505859375, 6.092643737792969, 6.0886383056640625, 6.083869934082031, 6.085968017578125, 6.08978271484375, 6.0947418212890625, 6.092643737792969, 6.0894012451171875, 6.090545654296875, 6.08978271484375, 6.0916900634765625, 6.0791015625, 6.078910827636719, 6.078910827636719, 6.075477600097656, 6.071662902832031, 6.0771942138671875, 6.079864501953125, 6.072044372558594, 6.076240539550781, 6.064414978027344, 6.0626983642578125, 6.061363220214844, 6.059455871582031, 6.061744689941406, 6.058502197265625, 6.060791015625, 6.05010986328125, 6.062507629394531, 6.0581207275390625, 6.061553955078125, 6.062889099121094, 6.069183349609375, 6.06842041015625, 6.06689453125, 6.065940856933594, 6.0626983642578125, 6.0535430908203125, 6.059837341308594, 6.0558319091796875, 6.0680389404296875, 6.060600280761719, 6.061744689941406, 6.049346923828125, 6.049346923828125, 6.048393249511719, 6.048393249511719, 6.048774719238281, 6.0420989990234375, 6.036949157714844, 6.037712097167969, 6.050872802734375, 6.0474395751953125, 6.0459136962890625, 6.047248840332031]

root = '/home/site/data/images/gradient/'
global num
num = 0

def getDifference(img1, img2):
    sub = ImageChops.subtract(img1,img2, 0.005)
    subt = ImageChops.subtract(img2, img1, 0.005)
    return ImageChops.add(sub, subt).convert('RGB')

def getDiff(img1, img2, pic_id):
    global num
    res = 0
    img1 = img1.convert('RGB')
    img2 = img2.convert('RGB')
    diff = ImageChops.difference(img1, img2)
    diff = getDifference(img1, img2)

    if not os.path.exists(root + "diff/" + str(pic_id)):
        os.makedirs(root + "diff/" + str(pic_id))
    diff.save(root + "diff/" + str(pic_id) + '/' + str(num) + '.png')
    num += 1
    pixels = diff.getdata()
    for pixel in pixels:
        if pixel != (0,0,0):
            res += 1
    return res

dir_path = root + "origin/"
dirs = os.listdir(dir_path)
res = array.array('f')

#for i in range(1,1):
for i in range(1,256):
    total = 0;
    num = 0
    print i
    res.append(0)
#    res[i - 1] = (trans2[i - 1] + trans3[i - 1] + alpha[i - 1]) / 3
#    continue
    for dir_name1 in dirs:
        for dir_name2 in dirs:
            img1 = Image.open(dir_path + dir_name1 + '/' + str(i) + '.png')
            img2 = Image.open(dir_path + dir_name2 + '/' + str(i) + '.png')
            dif = getDiff(img1, img2, i)
            res[i - 1] += dif 
            total += 256 * 256
    res[i - 1] = res[i - 1] * 100 / total
#    res[i - 1] = (res[i - 1] + alpha[i - 1]) / 2

plt.plot(range(255), simple_light, label = 'diffuse')
plt.plot(range(255), texture, label = 'texture')
plt.plot(range(255), two_light_point, label = 'diffuse and specular')
plt.plot(range(255), point_light, label = 'speculer')
plt.plot(range(255), light_no_am, label = 'diffuse no ambient')
plt.plot(range(255), point_no_am, label = 'specular no ambient')
plt.plot(range(255), trans_chrome, label = 'trans_chrome')
plt.plot(range(255), trans_4_firefox, label = 'trans_chrome')
plt.plot(range(255), res, label = 'res')
plt.legend(bbox_to_anchor=(1, 1), loc=1, borderaxespad=0., fontsize = 10)

plt.savefig(root + 'res.png')
print res
